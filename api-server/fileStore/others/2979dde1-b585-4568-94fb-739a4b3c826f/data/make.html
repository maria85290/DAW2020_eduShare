<TITLE>Parametrização de Makefiles</TITLE>

<HR>
<H1>Introdu&ccedil;&atilde;o</H1>
No contexto da cadeira de PLI ir&aacute; haver necessidade de criar v&aacute;rias makefiles.
Muitas delas ir&atilde;o ser semelhantes pelo que uma makefile bem parametrizada serviria todos esses casos.
<P>
Neste documento apresenta-se um exemplo e algumas regras que permitir&atilde;o fazer essa para metriza&ccedil;&atilde;o.
<P>
<HR>
<H1>A Makefile</H1>Segue-se um exemplo de uma makefile usada na aula te&oacute;rico-pr&aacute;tica de 7 de Março.
<PRE>

SUF=dummy

$(SUF): lex.yy.o y.tab.o listas.o
	cc -o $(SUF) lex.yy.o y.tab.o listas.o -lfl

lex.yy.o: lex.yy.c y.tab.h
	cc -c lex.yy.c

lex.yy.c: $(SUF).l
	flex $(SUF).l

y.tab.o: y.tab.c
	cc -c y.tab.c

y.tab.c y.tab.h : $(SUF).y listas.h
	yacc -d $(SUF).y

listas.o: listas.c listas.h
	cc -c listas.c

clean: 
	rm *.o

</PRE>
<P>
Como se pode ver a makefile come&ccedil;a com a inicializa&ccedil;&atilde;o de uma vari&aacute;vel - <B>SUF</B>.
Essa inicializa&ccedil;&atilde;o garante-nos uma mensagem de erro de cada vez que a makefile f&ocirc;r mal invocada
(a n&atilde;o ser que algu&eacute;m tenha chamado <I>dummy</I> ao seu programa).
<P>
<HR>
<H1>Invoca&ccedil;&atilde;o</H1>Sempre que a makefile f&ocirc;r invocada a vari&aacute;vel SUF dever&aacute; ser inicializada na linha de comando com o 
valor apropriado.
<P>
Por exemplo, no caso dos par&ecirc;ntesis far&iacute;amos:
<PRE>
   make SUF=par
</PRE>
<P>
Ou no caso das ListasSimples:
<PRE>
   make SUF=ls
</PRE>
<P>
<HR>

Bom trabalho ...
jcr
<P>

<HR><H5>
 - generated by <A HREF="http://www.di.uminho.pt/~jcr/projectos/ppp/ppp.html">PPP</A> in </H5>
Wed Mar  7 17:44:07 WET 2001
